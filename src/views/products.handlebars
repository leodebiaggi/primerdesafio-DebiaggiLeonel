<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{__dirname}}/style.css">
    <title>STOR3D - Lista de Productos</title>
</head>

<body>
    <h1>Lista de Productos</h1>

    <a href="/"><button>Home</button></a>
 
    <div>
        <h2>BIENVENID@</h2>
        <p>Hola! {{user.name}}</p>
        <p>Email: {{user.email}}</p>
        <p>Edad: {{user.age}}</p>
        <p>ROL: {{user.role}}</p>
    </div>

    <ul>
        {{#each products}}
        <li>
            {{this.title}} - {{this.price}}
            <a href="/api/views/products/{{this._id}}">Ver detalles</a>
            <button class="addToCart" data-product-id="{{this._id}}">Agregar al carrito</button>
        </li>
        {{/each}}
    </ul>

    <script>
        const addToCartButtons = document.querySelectorAll('.addToCart');
        addToCartButtons.forEach(button => {
            button.addEventListener('click', () => {
                const productId = button.getAttribute('data-product-id');
            });
        });
    </script>
    <a href="/api/session/logout"><button>Cerrar sesi√≥n</button></a>
</body>

</html>